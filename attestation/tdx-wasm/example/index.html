<!DOCTYPE html>
<html>
<head>
    <title>TDX Quote Decoder Example</title>
</head>
<body>
    <h1>TDX Quote Decoder</h1>
    <textarea id="hexInput" rows="10" cols="50" placeholder="Enter hex-encoded TDX Quote v4..."></textarea>
    <br>
    <button onclick="decodeQuote()">Decode</button>
    <pre id="output"></pre>

    <script type="module">
        import TdxQuote from '../js/tdx-quote.js';
        
        window.decoder = new TdxQuote();
        await window.decoder.initialize();
        
        window.decodeQuote = async function() {
            const hexInput = document.getElementById('hexInput').value;
            try {
                const decoded = await window.decoder.decodeQuote(hexInput);
                document.getElementById('output').textContent = JSON.stringify(decoded, null, 2);
            } catch (error) {
                document.getElementById('output').textContent = `Error: ${error.message}`;
            }
        };
    </script>
</body>
</html>
